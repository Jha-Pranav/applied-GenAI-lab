

``` python
from agents import Agent, Runner, trace, OpenAIChatCompletionsModel,AsyncOpenAI, function_tool
from openai.types.responses import ResponseTextDeltaEvent
from IPython.display import Markdown, display
```

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
model = OpenAIChatCompletionsModel(model="gpt-oss:20b",
                                  openai_client=AsyncOpenAI(base_url="http://localhost:11434/v1",api_key="ollama"))
```

``` python
# Create the agent
agent = Agent(
    name="Assistant",
    instructions="You are a helpful assistant",
    model=model
)
```

``` python
result = await Runner.run(starting_agent=agent,input="Who is the father of Mahadev? Answer in short.")
display(Markdown(result.final_output))
```

    OPENAI_API_KEY is not set, skipping trace export

Mahadev (Shiva) is considered a self‚Äëexisting, parentless deity ‚Äì he has
no father.

    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export
    OPENAI_API_KEY is not set, skipping trace export

``` python
result = Runner.run_streamed(agent, "I am from India. Create a meal plan for a week. Answer in short.")
async for event in result.stream_events():
    if event.type == "raw_response_event" and isinstance(event.data, ResponseTextDeltaEvent):
        print(event.data.delta, end="", flush=True)
```

    **Week‚Äëlong Indian Meal Plan (short version)**  

    | Day | Breakfast | Lunch | Dinner |
    |-----|-----------|-------|--------|
    | Mon | Poha with peas & peanuts | Chole (chickpea curry) + 2 phulkas | Palak Paneer + steamed rice |
    | Tue | Idli + coconut‚Äëmasala chutney | Vegetable Biryani + raita | Dal Makhani + roti |
    | Wed | Upma with carrots & beans | Rajma + jeera rice | Aloo Gobi + paratha |
    | Thu | Dalia (broken‚Äëwheat) with milk | Tofu‚ÄØMasala + 2 chapatis | Fish‚ÄØTikka + mixed salad |
    | Fri | Paratha + butter yogurt | Khichdi + pickle | Paneer‚ÄØTikka + naan |
    | Sat | Masala Oats (spiced) | Mutton Rogan‚ÄØJamun + roti | Lentil Soup + bhature |
    | Sun | Fresh fruit + boiled egg | Bhindi Masala + 2 phulkas | Chicken‚ÄØSaag + steamed rice |

    *Feel free to swap any side dish or adjust spices to taste. Enjoy the variety!*

``` python
## Traces
import mlflow
import asyncio
from agents import Agent, Runner

mlflow.openai.autolog()

# Optional: Set a tracking URI and an experiment
mlflow.set_tracking_uri("http://localhost:5000")
mlflow.set_experiment("OpenAI Agent")
```

    <Experiment: artifact_location='mlflow-artifacts:/615119549503924654', creation_time=1756996413561, experiment_id='615119549503924654', last_update_time=1756996413561, lifecycle_stage='active', name='OpenAI Agent', tags={}>

``` python
# Enable auto tracing for OpenAI Agents SDK
mlflow.openai.autolog()


@function_tool
def get_weather(city: str) -> str:
    return f"The weather in {city} is sunny."


agent = Agent(
    name="Hello world",
    instructions="You are a helpful agent.",
    tools=[get_weather],
    model=model
)

result = await Runner.run(agent, input="What's the weather in Tokyo?")
print(result.final_output)
```

    The weather in Tokyo is sunny.

<div>
  <style scoped>
  button {
    border: none;
    border-radius: 4px;
    background-color: rgb(34, 114, 180);
    font-family: -apple-system, "system-ui", "Segoe UI", Roboto, "Helvetica Neue", Arial;
    font-size: 13px;
    color: white;
    margin-top: 8px;
    margin-bottom: 8px;
    padding: 8px 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: rgb(66, 153, 224);
  }
  </style>
  <button
    onclick="
        const display = this.nextElementSibling.style.display;
        const isCollapsed = display === 'none';
        this.nextElementSibling.style.display = isCollapsed ? null : 'none';
&#10;        const verb = isCollapsed ? 'Collapse' : 'Expand';
        this.innerText = `${verb} MLflow Trace`;
    "
  >Collapse MLflow Trace</button>
  <iframe
    id="trace-renderer"
    style="width: 100%; height: 500px; border: none; resize: vertical;"
    src="http://localhost:5000/static-files/lib/notebook-trace-renderer/index.html?trace_id=tr-08f6a7426f866f388ab068a3bc31f070&amp;experiment_id=615119549503924654&amp;version=3.3.2"
  />
</div>

``` python
# === üß† AGENT: Emoji Generator ===
emoji_agent = Agent(
    name="emoji_agent",
    instructions=(
        "You're an emoji artist. You turn summarized news into expressive emoji + text sequences. "
        "Be creative, thematic, and intuitive ‚Äî like visual headlines that combine words and emojis for clarity and impact. "
        "Use emojis to replace or enhance key nouns, verbs, places, or themes. Always return a short sentence or phrase with integrated emojis."
    ),
    model=model
)

emoji_tool = emoji_agent.as_tool(
    tool_name="emoji_generator",
    tool_description="Generates creative emoji + text representations from short summarized news text."
)

# === ‚úèÔ∏è AGENT: Summarizer ===
summarizer = Agent(
    name="summarizer",
    instructions=(
        "You're a news summarizer. Your job is to shorten long news into crisp sentences. "
        "Avoid emojis ‚Äî keep it simple, and informative."
    ),
    model=model
)

summarizer_tool = summarizer.as_tool(
    tool_name="text_summarizer",
    tool_description="Summarizes long text into short, emoji-ready summaries."
)

# === üé¨ AGENT: Orchestrator ===
emoji_headline_generator = Agent(
    name="emoji_headlines",
    instructions=(
        "You're an assistant that turns full news stories into emoji-enhanced headlines. "
        "Use the available tools: first summarize with the summarizer, then generate a headline with emojis using the emoji generator. "
        "Do not generate emojis directly ‚Äî always use the tools. Final output should be a compact sentence combining emojis and text where suitable."
    ),
    tools=[summarizer_tool, emoji_tool],
    model=model
)

# === üß™ TEST DATA ===
news_sample = """
OpenAI has announced that ChatGPT‚Äôs Projects feature is now available to Free users, expanding access beyond paid tiers. The update also includes larger file uploads, more customisation options, and new memory controls. According to OpenAI, Free users can now upload up to five files per project, while Plus subscribers can upload 25 and Pro, Business, and Enterprise customers up to 40.  Users will also be able to select colours and icons for projects, as well as manage memory on a project-only basis. The rollout is live on web and Android, with iOS support expected in the coming days. In a separate development, OpenAI confirmed that the team behind Alex, an AI-powered coding assistant for Xcode, has joined its Codex team. Daniel Edrisian, co-founder of Alex, said in a pos
"""

# === üöÄ RUN WORKFLOW ===
emoji_response = await Runner.run(emoji_headline_generator, news_sample)
emoji_output = emoji_response.final_output

# === üì§ DISPLAY ===
print("üóûÔ∏è  Original News:")
print(news_sample)
print("\n‚ú® Emoji Headline:")
display(Markdown(emoji_output))
```

    üóûÔ∏è  Original News:

    OpenAI has announced that ChatGPT‚Äôs Projects feature is now available to Free users, expanding access beyond paid tiers. The update also includes larger file uploads, more customisation options, and new memory controls. According to OpenAI, Free users can now upload up to five files per project, while Plus subscribers can upload 25 and Pro, Business, and Enterprise customers up to 40.  Users will also be able to select colours and icons for projects, as well as manage memory on a project-only basis. The rollout is live on web and Android, with iOS support expected in the coming days. In a separate development, OpenAI confirmed that the team behind Alex, an AI-powered coding assistant for Xcode, has joined its Codex team. Daniel Edrisian, co-founder of Alex, said in a pos


    ‚ú® Emoji Headline:

OpenAI frees Projects: üìÅ uploads ‚Üë (5‚ÄØ‚Üí‚ÄØ25‚ÄØ‚Üí‚ÄØ40), üé® icons, üíæ
per‚Äëproject memory. Live on üñ•Ô∏è+üì±, iOS next. Xcode AI‚ÄØAlex joins the
Codex team ü§ùüß†

<div>
  <style scoped>
  button {
    border: none;
    border-radius: 4px;
    background-color: rgb(34, 114, 180);
    font-family: -apple-system, "system-ui", "Segoe UI", Roboto, "Helvetica Neue", Arial;
    font-size: 13px;
    color: white;
    margin-top: 8px;
    margin-bottom: 8px;
    padding: 8px 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: rgb(66, 153, 224);
  }
  </style>
  <button
    onclick="
        const display = this.nextElementSibling.style.display;
        const isCollapsed = display === 'none';
        this.nextElementSibling.style.display = isCollapsed ? null : 'none';
&#10;        const verb = isCollapsed ? 'Collapse' : 'Expand';
        this.innerText = `${verb} MLflow Trace`;
    "
  >Collapse MLflow Trace</button>
  <iframe
    id="trace-renderer"
    style="width: 100%; height: 500px; border: none; resize: vertical;"
    src="http://localhost:5000/static-files/lib/notebook-trace-renderer/index.html?trace_id=tr-da212cbbfee56a04b4924933140dc01a&amp;experiment_id=615119549503924654&amp;version=3.3.2"
  />
</div>

``` python
# Define a simple multi-agent workflow
hindi_agent = Agent(
    name="Hindi agent",
    instructions="You only speak Hindi.",
    model=model
)

english_agent = Agent(
    name="English agent",
    instructions="You only speak English",
    model=model
)

triage_agent = Agent(
    name="Triage agent",
    instructions="Handoff to the appropriate agent based on the language of the request.",
    handoffs=[hindi_agent, english_agent],
    model=model
)


result = await Runner.run(triage_agent, input="‡§è‡§Ü‡§à ‡§è‡§ú‡•á‡§Ç‡§ü‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§°‡§º‡•á ‡§Æ‡•á‡§Ç ‡§§‡•Å‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•ã?")
display(Markdown(result.final_output))
```

‡§è‡§Ü‡§à ‡§è‡§ú‡•á‡§Ç‡§ü‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§°‡§º‡•á ‡§Æ‡•â‡§°‡§≤ (‡§ú‡•à‡§∏‡•á GPT‚Äë4, Claude, Gemini ‡§Ü‡§¶‡§ø) ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§Æ‡•Å‡§ñ‡•ç‡§Ø‡§§‡§É ‡§Ø‡•á ‡§¨‡§§‡§æ
‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å:

1.  **‡§Ü‡§∞‡•ç‡§ï‡§ø‡§ü‡•á‡§ï‡•ç‡§ö‡§∞ ‡§î‡§∞ ‡§Ü‡§ï‡§æ‡§∞**
    - ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§¨‡§°‡§º‡•á ‡§è‡§Ü‡§à ‡§Æ‡•â‡§°‡§≤ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡•â‡§∞‡•ç‡§Æ‡§∞‚Äë‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§  
    - ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞ ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§Ö‡§∞‡§¨‡•ã‡§Ç (10‚Äë100‚ÄØB) ‡§∏‡•á ‡§≤‡•á‡§ï‡§∞ ‡§ñ‡§∞‡§¨‡•ã‡§Ç (1‚ÄØT ‡§Ø‡§æ ‡§â‡§∏‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï) ‡§§‡§ï ‡§π‡•ã
      ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§  
    - ‡§Ø‡§π ‡§¨‡•ú‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§ú‡§ü‡§ø‡§≤ ‡§™‡•à‡§ü‡§∞‡•ç‡§®, ‡§∏‡§π‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§µ ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§∏‡§Æ‡§ù‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à‡•§
2.  **‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§°‡•á‡§ü‡§æ**
    - ‡§¨‡§°‡§º‡•á ‡§™‡•à‡§Æ‡§æ‡§®‡•á ‡§™‡§∞ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§∏‡•á ‡§≤‡§ø‡§è ‡§ó‡§è ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü, PDFs, ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü‡•ç‡§∏, ‡§∏‡•ã‡§∂‡§≤ ‡§Æ‡•Ä‡§°‡§ø‡§Ø‡§æ, ‡§ï‡•ã‡§°
      ‡§∞‡§ø‡§™‡•â‡§ú‡§º‡§ø‡§ü‡§∞‡•Ä ‡§Ü‡§¶‡§ø ‡§™‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§ø‡§§‡•§  
    - ‡§°‡•á‡§ü‡§æ ‡§Æ‡•á‡§Ç 2021‚Äë2023 ‡§ï‡•Ä ‡§§‡§æ‡§ú‡§º‡§æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä, ‡§§‡§•‡§æ ‡§â‡§∏‡§∏‡•á ‡§™‡§∞‡•á ‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è
      ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§Æ‡•â‡§°‡§≤‡§ø‡§Ç‡§ó ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§≠‡•Ä ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§
3.  **‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ‡§è‡§Å**
    - ‡§¨‡§π‡•Å‡§≠‡§æ‡§∑‡•Ä ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡•§  
    - ‡§∏‡§æ‡§∞‚Äë‡§∏‡§Ç‡§ï‡•ç‡§∑‡•á‡§™, ‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§≤‡•á‡§ñ‡§®, ‡§ï‡•ã‡§° ‡§ú‡§®‡§∞‡•á‡§∂‡§®, ‡§°‡•á‡§ü‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£‡•§  
    - ‡§ï‡•Å‡§õ ‡§Æ‡•â‡§°‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‚Äú‡§´‡§º‡§æ‡§á‡§®‚Äë‡§ü‡•ç‡§Ø‡•Ç‡§®‡§ø‡§Ç‡§ó‚Äù ‡§Ø‡§æ ‚Äú‡§∞‡•Ä‚Äë‡§´‡§æ‡§á‡§®‚Äë‡§ü‡•ç‡§Ø‡•Ç‡§®‡§ø‡§Ç‡§ó‚Äù ‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§ü‡§æ‡§∏‡•ç‡§ï, ‡§ú‡•à‡§∏‡•á
      ‡§á‡§Æ‡•á‡§ú‚Äë‡§ü‡•Ç‚Äë‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Ø‡§æ ‡§ü‡•á‡§¨‡§≤ ‡§™‡§¢‡§º‡§®‡§æ, ‡§Æ‡•á‡§Ç ‡§¶‡§ï‡•ç‡§∑‡§§‡§æ ‡§¨‡§¢‡§º‡§æ‡§à ‡§ú‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§  
    - ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü ‡§á‡§Ç‡§ú‡•Ä‡§®‡§ø‡§Ø‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡•ã ‚Äú‡§°‡§æ‡§Ø‡§≤‡•â‡§ó ‡§¨‡•â‡§ï‡•ç‡§∏‚Äù ‡§∏‡•á ‡§™‡§∞‡•á ‡§™‡§∞‡§ø‡§∑‡•ç‡§ï‡•É‡§§ ‡§ï‡§ø‡§Ø‡§æ
      ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§
4.  **‡§∏‡•Ä‡§Æ‡§æ‡§è‡§Å**
    - **‡§§‡§•‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ï‡§§‡§æ**: ‡§Æ‡•â‡§°‡§≤ ‡§ï‡•ã ‚Äú‡§ú‡•ç‡§û‡§æ‡§®‚Äù ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‚Äú‡§™‡•à‡§ü‡§∞‡•ç‡§®‚Äù ‡§∏‡•Ä‡§ñ‡§§‡§æ ‡§π‡•à, ‡§Ö‡§§‡§É ‡§ù‡•Ç‡§†‡•Ä ‡§Ø‡§æ
      ‡§ï‡§æ‡§≤‡•ç‡§™‡§®‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡•á‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Æ‡•ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à‡•§  
    - **‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§ó‡•ç‡§∞‡§π**: ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§°‡•á‡§ü‡§æ ‡§Æ‡•á‡§Ç ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§≤‡•à‡§Ç‡§ó‡§ø‡§ï, ‡§∏‡§æ‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø‡§ï, ‡§µ‡§Ç‡§∂‡•Ä‡§Ø ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§ó‡•ç‡§∞‡§π ‡§≠‡•Ä
      ‡§Æ‡•â‡§°‡§≤ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§ï‡§ü ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§  
    - **‡§∏‡•ç‡§∞‡•ã‡§§ ‡§Ö‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§‡§§‡§æ**: ‡§ï‡§ø‡§∏‡•Ä ‡§§‡§•‡•ç‡§Ø ‡§ï‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§ (‡§ï‡§π‡§æ‡§Å ‡§∏‡•á ‡§∏‡•Ä‡§ñ‡§æ) ‡§Æ‡•â‡§°‡§≤ ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§®‡§π‡•Ä‡§Ç
      ‡§¨‡§§‡§æ‡§§‡§æ, ‡§á‡§∏‡§≤‡§ø‡§è ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§  
    - **‡§∏‡§Ç‡§∏‡§æ‡§ß‡§®**: ‡§¨‡§°‡§º‡•á ‡§Æ‡•â‡§°‡§≤ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§µ inference ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§π‡•Ä ‡§≠‡§æ‡§∞‡•Ä ‡§ï‡§Æ‡•ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§ø‡§Ç‡§ó ‡§µ
      ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§ï‡•Ä ‡§Æ‡§æ‡§Å‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§™‡§∞‡•ç‡§Ø‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§≠‡•Ä ‡§â‡§†‡§§‡•Ä ‡§π‡•à‡•§
5.  **‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞**
    - ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ö‡•à‡§ü‡§¨‡•â‡§ü, ‡§≤‡•á‡§ñ‡§® ‡§∏‡§π‡§æ‡§Ø‡§ï, ‡§ï‡•ã‡§°‚Äë‡§∞‡§æ‡§á‡§ü‡§ø‡§Ç‡§ó ‡§ü‡•Ç‡§≤, ‡§∂‡•ã‡§ß ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ, ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ,
      ‡§π‡•á‡§≤‡•ç‡§•‚Äë‡§ï‡•á‡§Ø‡§∞ ‡§∏‡§≤‡§æ‡§π, ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§®‚Äë‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£, ‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡§≤‡§æ‡•§  
    - ‡§ï‡§Ç‡§™‡§®‡§ø‡§Ø‡§æ‡§Å ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§á‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡•ã‡§Ç ‡§Æ‡•á‡§Ç embed ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§ú‡•à‡§∏‡•á Gmail ‡§ï‡•á compose ‡§∏‡•Å‡§ù‡§æ‡§µ,
      ‡§Ø‡§æ GitHub Copilot‡•§
6.  **‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§î‡§∞ ‡§®‡•à‡§§‡§ø‡§ï‡§§‡§æ**
    - OpenAI ‡§î‡§∞ ‡§Ö‡§®‡•ç‡§Ø ‡§∏‡§Ç‡§ó‡§†‡§®‡•ã‡§Ç ‡§®‡•á ‚Äú‡§â‡§™‡§Ø‡•ã‡§ó ‡§®‡•Ä‡§§‡§ø‚Äù, ‚Äú‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ü‡•ç‡§Ø‡•Ç‡§®‡§ø‡§Ç‡§ó‚Äù ‡§µ
      ‚Äú‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü‚Äë‡§¨‡•ç‡§≤‡•â‡§ï‡§ø‡§Ç‡§ó‚Äù ‡§ú‡•à‡§∏‡•Ä ‡§§‡§ï‡§®‡•Ä‡§ï‡•á‡§Ç ‡§Ö‡§™‡§®‡§æ‡§à ‡§π‡•à‡§Ç‡•§  
    - ‡§Æ‡•â‡§°‡§≤ ‡§ï‡•ã ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§∂‡•Ä‡§≤ ‡§°‡•á‡§ü‡§æ ‡§™‡§∞ ‡§´‡§æ‡§á‡§®‚Äë‡§ü‡•ç‡§Ø‡•Ç‡§®‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§°‡•á‡§ü‡§æ ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§§‡§•‡§æ HIPAA, GDPR
      ‡§ú‡•à‡§∏‡•Ä ‡§®‡§ø‡§Ø‡§Æ‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡§®‡§æ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à‡•§
7.  **‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§¶‡§ø‡§∂‡§æ**
    - **‡§Æ‡•â‡§°‡•á‡§≤ ‡§´‡•ç‡§Ø‡•Ç‡§ú‡§º‡§®**: GPT‚Äë‡§ú‡•à‡§∏‡•á ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Æ‡•â‡§°‡§≤ ‡§∏‡•á ‡§á‡§Æ‡•á‡§ú, ‡§ë‡§°‡§ø‡§Ø‡•ã, ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ã ‡§è‡§ï‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡§ï‡•á
      ‡§Æ‡§≤‡•ç‡§ü‡•Ä‚Äë‡§Æ‡•â‡§°‡§≤ ‡§Ö‡§®‡•Å‡§≠‡§µ‡•§  
    - **‡§´‡§º‡•á‡§°‡§∞‡•á‡§ü‡•á‡§° ‡§≤‡§∞‡•ç‡§®‡§ø‡§Ç‡§ó**: ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡•Ä‡§ï‡•É‡§§ ‡§® ‡§ï‡§∞‡§ï‡•á ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•á ‡§°‡§ø‡§µ‡§æ‡§á‡§∏ ‡§™‡§∞ ‡§π‡•Ä ‡§Æ‡•â‡§°‡§≤
      ‡§∏‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏‡•§  
    - **‡§∏‡•Å‡§™‡§∞‚Äë‡§ï‡§Æ‡•ç‡§™‡•à‡§ü‡§ø‡§¨‡§ø‡§≤‡§ø‡§ü‡•Ä**: ‡§¨‡§°‡§º‡•á ‡§è‡§Ü‡§à ‡§ï‡•ã ‡§ï‡§Æ‚Äë‡§™‡§æ‡§µ‡§∞ ‡§π‡§æ‡§∞‡•ç‡§°‡§µ‡•á‡§Ø‡§∞ (‡§ú‡•à‡§∏‡•á ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤, ‡§è‡§ú
      ‡§°‡§ø‡§µ‡§æ‡§á‡§∏) ‡§™‡§∞ ‡§ö‡§≤‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•â‡§≤‡•á‡§ú ‡§°‡§ø‡§∏‡•ç‡§ü‡§ø‡§≤‡•á‡§∂‡§® ‡§µ pruning‡•§  
    - **‡§á‡§Ç‡§ü‡•á‡§≤‡§ø‡§ú‡•á‡§Ç‡§ü ‡§è‡§ú‡•á‡§Ç‡§ü**: ‡§Ö‡§™‡§®‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‚Äë‡§™‡•ç‡§∞‡§µ‡§æ‡§π ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡•ã‡§ú‡§®‡§æ‡§ï‡§æ‡§∞,
      ‡§Ø‡•ã‡§ú‡§®‡§æ‚Äë‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§§‡§æ, ‡§µ ‡§∞‡•Ä‚Äë‡§≤‡§∞‡•ç‡§®‡§ø‡§Ç‡§ó ‡§≤‡•Ç‡§™ ‡§∂‡§æ‡§Æ‡§ø‡§≤‡•§

‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂ ‡§Æ‡•á‡§Ç, ‡§¨‡§°‡§º‡•á ‡§è‡§Ü‡§à ‡§è‡§ú‡•á‡§Ç‡§ü‡•ç‡§∏ ‡§¨‡§π‡•Å‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•Ä‡§Ø ‡§ú‡•ç‡§û‡§æ‡§®‚Äë‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§â‡§≠‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç, ‡§™‡§∞‡§Ç‡§§‡•Å ‡§á‡§®‡§ï‡•á ‡§â‡§™‡§Ø‡•ã‡§ó
‡§Æ‡•á‡§Ç ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ, ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§ó‡•ç‡§∞‡§π, ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§î‡§∞ ‡§™‡§∞‡•ç‡§Ø‡§æ‡§µ‡§∞‡§£‡•Ä‡§Ø ‡§™‡§π‡§≤‡•Å‡§ì‡§Ç ‡§™‡§∞ ‡§∏‡§§‡§∞‡•ç‡§ï‡§§‡§æ ‡§Ö‡§µ‡§∂‡•ç‡§Ø ‡§∞‡§ñ‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§

<div>
  <style scoped>
  button {
    border: none;
    border-radius: 4px;
    background-color: rgb(34, 114, 180);
    font-family: -apple-system, "system-ui", "Segoe UI", Roboto, "Helvetica Neue", Arial;
    font-size: 13px;
    color: white;
    margin-top: 8px;
    margin-bottom: 8px;
    padding: 8px 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: rgb(66, 153, 224);
  }
  </style>
  <button
    onclick="
        const display = this.nextElementSibling.style.display;
        const isCollapsed = display === 'none';
        this.nextElementSibling.style.display = isCollapsed ? null : 'none';
&#10;        const verb = isCollapsed ? 'Collapse' : 'Expand';
        this.innerText = `${verb} MLflow Trace`;
    "
  >Collapse MLflow Trace</button>
  <iframe
    id="trace-renderer"
    style="width: 100%; height: 500px; border: none; resize: vertical;"
    src="http://localhost:5000/static-files/lib/notebook-trace-renderer/index.html?trace_id=tr-8688f44eff649ec5b4fefd5a8b7c7c4c&amp;experiment_id=615119549503924654&amp;version=3.3.2"
  />
</div>

``` python
# === üìù User prompt ===
prompt = "Who is the prime minister of Pakistan?"

# === üì¶ Input Guardrail Pydantic Model ===
class PersonalIdentifier(BaseModel):
    is_personal_info_in_message: bool
    name: str = ""  # Use str to match agent instructions

# === üõ°Ô∏è Agent to detect PII in user prompt ===
input_guardrail_agent = Agent(
    name="PID Checker",
    instructions=(
        "Analyze the input message for personal identity information (PII) such as names, phone numbers, or addresses. "
        "Return a JSON object with 'is_personal_info_in_message' set to true if PII is found, false otherwise. "
        "If a name is detected, set 'name' to the full name (e.g., 'John Smith'); otherwise, set it to an empty string. "
        "Ensure the response is valid JSON in this exact format:\n"
        "```json\n"
        "{\n  \"is_personal_info_in_message\": true,\n  \"name\": \"John Smith\"\n}\n"
        "```\n"
        "or\n"
        "```json\n"
        "{\n  \"is_personal_info_in_message\": false,\n  \"name\": \"\"\n}\n"
        "```\n"
        "Examples:\n"
        "- Input: 'Can you tell me about John Smith?' ‚Üí Output: {\"is_personal_info_in_message\": true, \"name\": \"John Smith\"}\n"
        "- Input: 'What is the capital of France?' ‚Üí Output: {\"is_personal_info_in_message\": false, \"name\": \"\"}\n"
        "Return only the JSON object, nothing else."
    ),
    output_type=PersonalIdentifier,
    model=model
)

# === üõ°Ô∏è Input Guardrail function ===
@input_guardrail
async def guardrail_against_pid(ctx, agent, message):
    try:
        result = await Runner.run(input_guardrail_agent, message, context=ctx.context, max_turns=5)
        found_pid = result.final_output
        if found_pid:
            print(f"Input Guardrail Result: {found_pid}")
            print(f"Detected Name: {found_pid.name}")
        else:
            print("Input Guardrail Result: None (no valid output)")
        return GuardrailFunctionOutput(
            output_info={"found_name": found_pid.name if found_pid else "", "raw_output": result.raw_output if result else None},
            tripwire_triggered=found_pid.is_personal_info_in_message if found_pid else False
        )
    except Exception as e:
        print(f"Error in input guardrail: {e}")
        return GuardrailFunctionOutput(
            output_info={"found_name": "", "error": str(e)},
            tripwire_triggered=False
        )

# === üì¶ Output Guardrail Pydantic Model ===
class ToxicityOutput(BaseModel):
    is_toxic: bool
    toxic_words: List[str] = []

# === üß† Agent to detect toxic output using LLM ===
toxicity_checker_agent = Agent(
    name="Toxicity Checker",
    instructions=(
        "Analyze the assistant's message for toxic, offensive, or inappropriate language. "
        "Return a JSON object with 'is_toxic' set to true if toxic content is found, false otherwise. "
        "List any toxic words in 'toxic_words' as an array; use an empty array if none are found. "
        "Ensure the response is valid JSON in this format:\n"
        "```json\n"
        "{\n  \"is_toxic\": true,\n  \"toxic_words\": [\"word1\", \"word2\"]\n}\n"
        "```\n"
        "or\n"
        "```json\n"
        "{\n  \"is_toxic\": false,\n  \"toxic_words\": []\n}\n"
        "```\n"
        "Return only the JSON object."
    ),
    output_type=ToxicityOutput,
    model=model
)

# === üõ°Ô∏è Output Guardrail function ===
@output_guardrail
async def guardrail_against_toxic_output(ctx, agent, response):
    try:
        result = await Runner.run(toxicity_checker_agent, response, context=ctx.context)
        toxicity_info = result.final_output
        return GuardrailFunctionOutput(
            output_info={"toxicity": toxicity_info, "raw_output": result.raw_output if result else None},
            tripwire_triggered=toxicity_info.is_toxic if toxicity_info else False
        )
    except Exception as e:
        print(f"Error in output guardrail: {e}")
        return GuardrailFunctionOutput(
            output_info={"toxicity": None, "error": str(e)},
            tripwire_triggered=False
        )

# === üí¨ Q&A Agent ===
qa_agent = Agent(
    name="Q&A",
    instructions="You're a helpful and respectful assistant. Answer user questions accurately and professionally.",
    model=model,
    input_guardrails=[guardrail_against_pid],
    output_guardrails=[guardrail_against_toxic_output],
)

# === üèÉ‚Äç‚ôÇÔ∏è Run the agent with guardrails ===

try:
    result = await Runner.run(qa_agent, prompt)
    # === üì§ Display ===
    print("üìù User Prompt:")
    print(prompt)
    print("\n‚úÖ Final Output:")
    print(result.final_output)
    print("\nüõ°Ô∏è Input Guardrail Info:")
    print(result.guardrail_input_output_info)
    print("\nüõ°Ô∏è Output Guardrail Info:")
    print(result.guardrail_output_output_info)
except Exception as e:
    print(f"Error running agent: {e}")
```

    Error in input guardrail: Max turns (5) exceeded
    Error in output guardrail: Max turns (10) exceeded
    üìù User Prompt:
    Who is the prime minister of Pakistan?

    ‚úÖ Final Output:
    **Prime Minister of Pakistan (as of April‚ÄØ2025)**

    - **Shehbaz Sharif**  
      ‚Ä¢‚ÄØIn office since 13‚ÄØAugust‚ÄØ2022 after the PML‚ÄëN coalition secured the majority.  
      ‚Ä¢‚ÄØHe survived the 2023‚ÄØno‚Äëconfidence motion and remained in the post through the rest of the parliamentary term.

    > *Note:* Pakistan‚Äôs parliamentary terms are five years, and any upcoming general election (currently scheduled for early to mid‚Äë2025) could change the holder of the office. Always check a reliable, up‚Äëto‚Äëdate source for the most current information.

    üõ°Ô∏è Input Guardrail Info:
    Error running agent: 'RunResult' object has no attribute 'guardrail_input_output_info'

<div>
  <style scoped>
  button {
    border: none;
    border-radius: 4px;
    background-color: rgb(34, 114, 180);
    font-family: -apple-system, "system-ui", "Segoe UI", Roboto, "Helvetica Neue", Arial;
    font-size: 13px;
    color: white;
    margin-top: 8px;
    margin-bottom: 8px;
    padding: 8px 16px;
    cursor: pointer;
  }
  button:hover {
    background-color: rgb(66, 153, 224);
  }
  </style>
  <button
    onclick="
        const display = this.nextElementSibling.style.display;
        const isCollapsed = display === 'none';
        this.nextElementSibling.style.display = isCollapsed ? null : 'none';
&#10;        const verb = isCollapsed ? 'Collapse' : 'Expand';
        this.innerText = `${verb} MLflow Trace`;
    "
  >Collapse MLflow Trace</button>
  <iframe
    id="trace-renderer"
    style="width: 100%; height: 500px; border: none; resize: vertical;"
    src="http://localhost:5000/static-files/lib/notebook-trace-renderer/index.html?trace_id=tr-bbff6626d2cbae6a5718cc961b245caf&amp;experiment_id=615119549503924654&amp;version=3.3.2"
  />
</div>
